angular.module("rt.select2",[]).value("select2Config",{}).factory("select2Stack",function(){var a=[];return{$register:function(b){a.push(b)},$unregister:function(b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},closeAll:function(){a.forEach(function(a){a.close()})}}}).directive("select2",["$rootScope","$timeout","$parse","$filter","select2Config","select2Stack",function(a,b,c,d,e,f){"use strict";var g={};return e&&angular.extend(g,e),{require:"ngModel",priority:1,restrict:"E",transclude:!0,template:"<select ng-transclude></select>",replace:!0,link:function(a,c,d,e){var h=angular.extend({},g,a.$eval(d.options)),i=angular.isDefined(d.multiple)||h.multiple;h.multiple=i,d.placeholder&&(h.placeholder=d.placeholder);var j={close:function(){c.select2("close")}};f.$register(j),a.$on("destroy",function(){f.$unregister(j)}),b(function(){c.select2(h),c.on("select2-blur",function(){e.$touched||a.$apply(e.$setTouched)})}),a.$watch(function(){return e.$viewValue},function(a,d){a!==d&&b(function(){c.val(a).trigger("change")})})}}}]);